{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Product.js","Home.js","reducer.js","Subtotal.js","CheckoutProduct.js","Checkout.js","Login.js","Payment.js","App.js","serviceWorker.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","auth","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","Header","basket","user","className","to","src","onClick","signOut","email","length","Product","id","title","image","price","rating","dispatch","Array","fill","map","_","i","alt","type","item","Home","getBasketTotal","reduce","amount","state","action","index","findIndex","basketItem","newBasket","splice","console","warn","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","CheckoutProduct","Checkout","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","Payment","App","useEffect","onAuthStateChanged","authUser","log","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9555a2f8.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\n\n// Prepares the dataLayer\nexport const StateContext = createContext();\n\n// Wrap our app and provide the Data layer\nexport const StateProvider = ({ reducer, initialState, children }) => (\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\n    {children}\n  </StateContext.Provider>\n);\n\n// Pull information from the data layer\nexport const useStateValue = () => useContext(StateContext);","import firebase from \"firebase\";\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n    apiKey: \"AIzaSyAE_8HuZl4KUOg6RDa4nTXLP8hY_IrlwIE\",\n    authDomain: \"myproject-29eeb.firebaseapp.com\",\n    projectId: \"myproject-29eeb\",\n    storageBucket: \"myproject-29eeb.appspot.com\",\n    messagingSenderId: \"9466656760\",\n    appId: \"1:9466656760:web:075c6af04403b3aab4880d\",\n    measurementId: \"G-MQZBW8QJSV\"\n  };\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\n\nexport { db, auth };","import React from 'react';\nimport './Header.css';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\nimport { Link } from \"react-router-dom\";\nimport { useStateValue } from './StateProvider';\nimport {auth} from './firebase';\n\nfunction Header() {\n    const [{basket, user},dispatch]   = useStateValue();\n\n    const handleAuthenticaton = () => {\n        if (user) {\n          auth.signOut();\n        }\n      }\n\n    return (\n        <div className='header'>\n            <Link to = '/'>\n                <img  className = \"header-logo\"\n                src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"/>\n            </Link> \n            \n            <div className='header-search'> \n                <input className='header-search-input' />\n                <SearchIcon \n                    className = 'header-search-icon'/>\n            </div>\n\n            <div className='header-nav'>\n                <Link to={!user && '/login'}>\n                    <div onClick={handleAuthenticaton} className='header-option'>\n                        <span className = \"header-option-line-one\">Hello {!user ? 'Guest' : user.email}</span>\n                        <span className = \"header-option-line-two\">{user ? 'Sign Out' : 'Sign In'}</span>\n                    </div>\n                </Link>    \n                <div className='header-option'>\n                    <span className = \"header-option-line-one\">Returns</span>\n                    <span className = \"header-option-line-two\">Orders</span>\n                </div>\n                \n                <div className='header-option'>\n                    <span className = \"header-option-line-one\">Your</span>\n                    <span className = \"header-option-line-two\">Prime</span>\n                </div>\n            </div>\n\n            <Link to = '/checkout'>            \n                <div className = \"header-option-basket\">\n                    <ShoppingBasketIcon/>\n                    <span className = \"option-line-two header-basket-count\">\n                        {basket?.length}\n                    </span>\n                </div>\n            </Link>\n        </div>   \n    )\n}\n\nexport default Header\n","import React from 'react';\nimport './Product.css';\nimport {useStateValue} from './StateProvider';\n\nfunction Product({ id, title, image, price, rating }) {\n\n    const [state, dispatch] = useStateValue();\n\n    const addToBasket = () =>{\n\n        dispatch({\n            type : 'ADD_TO_BASKET',\n            item : {\n                id: id,\n                title: title,\n                image: image,\n                price: price,\n                rating: rating,\n            }\n        })\n\n    }\n\n    return (\n        <div className = 'product'>\n            <div className = 'product-info'>\n                <p>{title}</p>\n                <p className='product-price'>\n                    <small>$</small>\n                    <strong>{price}</strong>\n                </p>\n                <div className = 'product-rating'>\n                    {Array(rating)\n                        .fill()\n                        .map((_,i)=> (\n                            <p>🌟</p>\n                        ))}\n                </div>\n            </div>\n\n            <img src=\"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._SX325_BO1,204,203,200_.jpg\" alt=\"\" />\n            <button onClick={addToBasket}>Add to Basket</button>\n        </div>\n    )\n}\n\nexport default Product\n","import React from 'react';\nimport Product from './Product';\nimport './Home.css';\n\nfunction Home() {\n    return (\n        <div className = 'home'>\n            <div className = 'home-container'>\n                <img src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\n                 className = 'home-image'/>\n                 <div className = \"home-row\">\n                    <Product \n                        id=\"12321341\"\n                        title=\"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses Paperback\"\n                        price={11.96}\n                        rating={5}\n                        image=\"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._SX325_BO1,204,203,200_.jpg\"\n                        />\n                    <Product\n                        id=\"49538094\"\n                        title=\"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl\"\n                        price={239.0}\n                        rating={4}\n                        image=\"https://images-na.ssl-images-amazon.com/images/I/81O%2BGNdkzKL._AC_SX450_.jpg\"\n                    />\n                 </div>\n                 <div className = \"home-row\">\n                     <Product\n                         id=\"4903850\"\n                         title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor\"\n                         price={199.99}\n                         rating={3}\n                         image=\"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg\"\n                    />\n                     <Product\n                         id=\"23445930\"\n                         title=\"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric\"\n                         price={98.99}\n                         rating={5}\n                         image=\"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$\"\n                     />\n                     <Product\n                        id=\"3254354345\"\n                        title=\"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)\"\n                        price={598.99}\n                        rating={4}\n                        image=\"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg\"\n                    />\n                 </div>\n                 <div className = \"home-row\">\n                 <Product\n                     id=\"90829332\"\n                     title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440\"\n                     price={1094.98}\n                     rating={4}\n                     image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"\n                    />\n                 </div>\n            </div>\n\n        </div>\n    )\n}\n\nexport default Home\n","export const initialState = {\n    basket : [],\n    user : null\n};  \n\n// Selector\nexport const getBasketTotal = (basket) => \n  basket?.reduce((amount, item) => item.price + amount, 0);\n\n\nconst reducer = (state,action) => {\n\n    switch(action.type){\n        case 'ADD_TO_BASKET' :\n            return {\n                ...state,\n                basket :[...state.basket, action.item]\n            };\n            case \"REMOVE_FROM_BASKET\":\n                const index = state.basket.findIndex(\n                  (basketItem) => basketItem.id === action.id\n                );\n                let newBasket = [...state.basket];\n          \n                if (index >= 0) {\n                  newBasket.splice(index, 1);\n          \n                } else {\n                  console.warn(\n                    `Cant remove product (id: ${action.id}) as its not in basket!`\n                  )\n                }\n          \n                return {\n                  ...state,\n                  basket: newBasket\n                }\n\n            case \"SET_USER\":\n              return {\n                ...state,\n                 user: action.user\n              }\n        default:\n            return state;\n\n    }\n}\n\nexport default reducer;","import React from \"react\";\nimport \"./Subtotal.css\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { useStateValue } from \"./StateProvider\";\nimport { getBasketTotal } from \"./reducer\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Subtotal() {\n    const history = useHistory();\n    const [{ basket }, dispatch] = useStateValue();\n\n    return (\n        <div className=\"subtotal\">\n            <CurrencyFormat\n                renderText={(value) => (\n                <>\n                    <p>\n                    {/* Part of the homework */}\n                    Subtotal ({basket.length} items): <strong>{value}</strong>\n                    </p>\n                    <small className=\"subtotal-gift\">\n                      <input type=\"checkbox\" /> This order contains a gift\n                    </small>\n                </>\n                )}\n                decimalScale={2}\n                value={getBasketTotal(basket)} // Part of the homework\n                displayType={\"text\"}\n                thousandSeparator={true}\n                prefix={\"$\"}\n            />\n\n            <button onClick = {e => history.push('/payment')} >Proceed to Checkout</button>\n         </div>\n    )   \n}\n\nexport default Subtotal\n","import React from 'react'\nimport { useStateValue } from './StateProvider';\nimport './CheckoutProduct.css';\n\nfunction CheckoutProduct({id,image,title,price,rating}) {\n\n    const [{ basket }, dispatch] = useStateValue();\n\n    const removeFromBasket = () => {\n        // remove the item from the basket\n        dispatch({\n            type: 'REMOVE_FROM_BASKET',\n            id: id,\n        })\n    }\n\n    return (\n        <div className = 'checkout-product'>\n            <img className = 'checkout-product-image' src = {image}/>\n\n            <div className = 'checkout-product-info'>\n                <p className = 'checkout-product-title'>{title}</p>\n                <p className = 'checkout-product-price'>\n                    <small>$</small>\n                    <strong>{price}</strong>\n                </p>\n                <div className = 'checkout-product-rating'>\n                    {Array(rating)\n                        .fill()\n                        .map((_, i) => (\n                            <p>🌟</p>\n                        ))}\n                    \n                    <button onClick={removeFromBasket}>Remove from Basket</button>\n                    \n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default CheckoutProduct\n","import React from 'react';\nimport './Checkout.css';\nimport Subtotal from './Subtotal';\nimport CheckoutProduct from './CheckoutProduct';\nimport { useStateValue } from './StateProvider';\n   \nfunction Checkout() {\n    const [{basket},dispatch] = useStateValue();\n\n   \n\n    return (\n        <div className ='checkout'>\n            <div className = 'checkout-left'>\n                \n                    <img className = 'checkout-ad' src = 'https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg' alt = ''/>\n                \n\n                <div>\n                    <h2 className = 'checkout-title'>Your Shopping Basket</h2>\n                    \n                    {basket.map(item => (\n                        <CheckoutProduct\n                        id={item.id}\n                        title={item.title}\n                        image={item.image}\n                        price={item.price}\n                        rating={item.rating}\n                        />\n                    ))}\n\n                </div>\n            </div>\n\n            <div className = 'checkout-right'>\n                <Subtotal/>\n            </div>\n        </div>\n    )\n}\n\nexport default Checkout\n","import React, { useState }  from 'react';\nimport { Link, useHistory } from \"react-router-dom\";\nimport './Login.css';\nimport { auth } from \"./firebase\";\n\nfunction Login() {\n    \n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const history = useHistory();\n\n    const signIn = e => {\n        e.preventDefault();\n\n        auth\n            .signInWithEmailAndPassword(email, password)\n            .then(auth => {\n                history.push('/')\n            })\n            .catch(error => alert(error.message))\n    }\n\n    const register = e => {\n        e.preventDefault();\n\n        auth\n            .createUserWithEmailAndPassword(email, password)\n            .then((auth) => {\n                // it successfully created a new user with email and password\n                if (auth) {\n                    history.push('/')\n                }\n            })\n            .catch(error => alert(error.message))\n    }\n\n    \n    return (\n        <div className='login'>\n            <Link to='/'>    \n                <img\n                    className=\"login-logo\"\n                    src='https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png' \n                />\n            </Link>\n\n            <div className='login-container'>\n                <h1>Sign-in</h1>\n\n                <form>\n                    <h5>E-mail</h5>\n                    <input type='text' value={email} onChange={e => setEmail(e.target.value)} />\n\n                    <h5>Password</h5>\n                    <input type='password' value={password} onChange={e => setPassword(e.target.value)} />\n\n                    <button onClick={signIn} type='submit' className='login-sign-in-button'>Sign In</button>\n                </form>\n\n                <p>\n                    By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please\n                    see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice.\n                </p>\n\n                <button onClick={register} className='login-register-button'>Create your Amazon Account</button>\n            </div>\n\n        </div>\n    )\n}\n\nexport default Login\n","import React, { useState, useEffect } from 'react';\nimport './Payment.css';\nimport { useStateValue } from \"./StateProvider\";\nimport CheckoutProduct from \"./CheckoutProduct\";\nimport { Link, useHistory } from \"react-router-dom\";\n// import { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { getBasketTotal } from \"./reducer\";\n// import axios from './axios';\nimport { db } from \"./firebase\";\n\nfunction Payment() {\n    const [{ basket, user }, dispatch] = useStateValue();\n    // const history = useHistory();\n\n    // // const stripe = useStripe();\n    // // const elements = useElements();\n\n    // const [succeeded, setSucceeded] = useState(false);\n    // const [processing, setProcessing] = useState(\"\");\n    // const [error, setError] = useState(null);\n    // const [disabled, setDisabled] = useState(true);\n    // const [clientSecret, setClientSecret] = useState(true);\n\n    // useEffect(() => {\n    //     // generate the special stripe secret which allows us to charge a customer\n    //     const getClientSecret = async () => {\n    //         const response = await axios({\n    //             method: 'post',\n    //             // Stripe expects the total in a currencies subunits\n    //             url: `/payments/create?total=${getBasketTotal(basket) * 100}`\n    //         });\n    //         setClientSecret(response.data.clientSecret)\n    //     }\n\n    //     getClientSecret();\n    // }, [basket])\n\n    // console.log('THE SECRET IS >>>', clientSecret)\n    // console.log('👱', user)\n\n    // const handleSubmit = async (event) => {\n    //     // do all the fancy stripe stuff...\n    //     event.preventDefault();\n    //     setProcessing(true);\n\n    //     const payload = await stripe.confirmCardPayment(clientSecret, {\n    //         payment_method: {\n    //             card: elements.getElement(CardElement)\n    //         }\n    //     }).then(({ paymentIntent }) => {\n    //         // paymentIntent = payment confirmation\n\n    //         db\n    //           .collection('users')\n    //           .doc(user?.uid)\n    //           .collection('orders')\n    //           .doc(paymentIntent.id)\n    //           .set({\n    //               basket: basket,\n    //               amount: paymentIntent.amount,\n    //               created: paymentIntent.created\n    //           })\n\n    //         setSucceeded(true);\n    //         setError(null)\n    //         setProcessing(false)\n\n    //         dispatch({\n    //             type: 'EMPTY_BASKET'\n    //         })\n\n    //         history.replace('/orders')\n    //     })\n\n    // }\n\n    // const handleChange = event => {\n    //     // Listen for changes in the CardElement\n    //     // and display any errors as the customer types their card details\n    //     setDisabled(event.empty);\n    //     setError(event.error ? event.error.message : \"\");\n    // }\n\n    return (\n        <div className='payment'>\n            <div className='payment__container'>\n                <h1>\n                    Checkout (\n                        <Link to=\"/checkout\">{basket?.length} items</Link>\n                        )\n                </h1>\n\n\n                {/* Payment section - delivery address */}\n                <div className='payment__section'>\n                    <div className='payment__title'>\n                        <h3>Delivery Address</h3>\n                    </div>\n                    <div className='payment__address'>\n                        <p>{user?.email}</p>\n                        <p>123 React Lane</p>\n                        <p>Los Angeles, CA</p>\n                    </div>\n                </div>\n\n                {/* Payment section - Review Items */}\n                <div className='payment__section'>\n                    <div className='payment__title'>\n                        <h3>Review items and delivery</h3>\n                    </div>\n                    <div className='payment__items'>\n                        {basket.map(item => (\n                            <CheckoutProduct\n                                id={item.id}\n                                title={item.title}\n                                image={item.image}\n                                price={item.price}\n                                rating={item.rating}\n                            />\n                        ))}\n                    </div>\n                </div>\n            \n\n                {/* Payment section - Payment method */}\n                <div className='payment__section'>\n                    <div className=\"payment__title\">\n                        <h3>Payment Method</h3>\n                    </div>\n                    <div className=\"payment__details\">\n                            {/* Stripe magic will go */}\n\n                            {/* <form onSubmit={handleSubmit}>\n                                <CardElement onChange={handleChange}/>\n\n                                <div className='payment__priceContainer'>\n                                    <CurrencyFormat\n                                        renderText={(value) => (\n                                            <h3>Order Total: {value}</h3>\n                                        )}\n                                        decimalScale={2 s}\n                                        value={getBasketTotal(basket)}\n                                        displayType={\"text\"}\n                                        thousandSeparator={true}\n                                        prefix={\"$\"}\n                                    />\n                                    <button disabled={processing || disabled || succeeded}>\n                                        <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\n                                    </button>\n                                </div>\n\n                                //   {/* Errors */}\n                             {/* {error && <div>{error}</div>}\n                            </form> */}\n                    </div>      \n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Payment","import './App.css';\nimport Header from './Header'; \nimport Home from './Home';\nimport { BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\nimport React, { useEffect }  from 'react';\nimport Checkout from './Checkout';\nimport Login from './Login';\nimport {auth} from './firebase';\nimport {useStateValue} from './StateProvider';\nimport Payment from './Payment';\n\nfunction App() {\n\n  const [{},dispatch] = useStateValue();\n\n\n  useEffect(() => {\n    // will only run once when the app component loads...\n\n    auth.onAuthStateChanged((authUser) => {\n      console.log(\"THE USER IS >>> \", authUser);\n\n      if (authUser) {\n        // the user just logged in / the user was logged in\n\n        dispatch({\n          type: \"SET_USER\",\n          user: authUser,\n        });\n      } else {\n        // the user is logged out\n        dispatch({\n          type: \"SET_USER\",\n          user: null,\n        });\n      }\n    });\n  }, []);\n\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <Route path = \"/login\">\n            <Login />\n          </Route>\n          <Route path = \"/checkout\">\n            <Header/>\n            <Checkout/>\n          </Route>\n          <Route path = \"/payment\">\n            <Header/>\n            <Payment/>\n          </Route>\n          <Route path = \"/\">\n            <Header/>\n            <Home/>\n          </Route>\n        </Switch>\n\n      </div>\n    </Router>\n    \n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service '\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all '\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n            headers: {\n                'Service-Worker': 'script'\n            },\n        })\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            );\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready\n            .then(registration => {\n                registration.unregister();\n            })\n            .catch(error => {\n                console.error(error.message);\n            });\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from \"./serviceWorker\";\nimport reducer, {initialState} from './reducer';\nimport {StateProvider} from './StateProvider';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nserviceWorker.unregister();"],"sourceRoot":""}